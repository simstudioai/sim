# =============================================================================
# Sim Environment Configuration
# =============================================================================
# This file contains all environment variables used by the Sim application.
# Required variables are marked with [REQUIRED], optional ones with [OPTIONAL]
#
# To get started:
# 1. Copy this file to .env
# 2. Fill in the [REQUIRED] variables
# 3. Configure optional variables based on the features you need
# =============================================================================

# =============================================================================
# CORE - DATABASE & AUTHENTICATION (Required for basic functionality)
# =============================================================================

# [REQUIRED] Primary database connection string (PostgreSQL)
DATABASE_URL=postgresql://user:password@localhost:5432/sim

# [REQUIRED] Base URL for Better Auth service
BETTER_AUTH_URL=http://localhost:3000

# [REQUIRED] Secret key for Better Auth JWT signing (min 32 characters)
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-32-character-secret-key-here

# [REQUIRED] Key for encrypting sensitive data (min 32 characters)
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=your-encryption-key-here

# [REQUIRED] Secret for internal API authentication (min 32 characters)
# Generate with: openssl rand -base64 32
INTERNAL_API_SECRET=your-internal-api-secret-here

# [REQUIRED] Base URL of the application
NEXT_PUBLIC_APP_URL=http://localhost:3000

# [OPTIONAL] Dedicated key for encrypting API keys (min 32 characters)
# API_ENCRYPTION_KEY=your-api-encryption-key-here

# [OPTIONAL] Flag to disable new user registration
# DISABLE_REGISTRATION=false

# [OPTIONAL] Comma-separated list of allowed email addresses
# ALLOWED_LOGIN_EMAILS=user1@example.com,user2@example.com

# [OPTIONAL] Comma-separated list of allowed email domains
# ALLOWED_LOGIN_DOMAINS=example.com,company.com

# =============================================================================
# COPILOT - AI Assistant Configuration
# =============================================================================

# [OPTIONAL] Provider for copilot API calls
# COPILOT_PROVIDER=openai

# [OPTIONAL] Model for copilot API calls
# COPILOT_MODEL=gpt-4

# [OPTIONAL] API key for copilot functionality
# COPILOT_API_KEY=your-copilot-api-key

# [OPTIONAL] URL for internal sim agent API
# SIM_AGENT_API_URL=http://localhost:8000

# [OPTIONAL] URL for agent training data indexer
# AGENT_INDEXER_URL=http://localhost:8001

# [OPTIONAL] API key for agent indexer authentication
# AGENT_INDEXER_API_KEY=your-indexer-api-key

# [OPTIONAL] Chat provider
# COPILOT_CHAT_PROVIDER=openai

# [OPTIONAL] Chat model
# COPILOT_CHAT_MODEL=gpt-4

# [OPTIONAL] Chat temperature (0.0-1.0)
# COPILOT_CHAT_TEMPERATURE=0.7

# [OPTIONAL] Chat max tokens
# COPILOT_CHAT_MAX_TOKENS=4096

# [OPTIONAL] RAG provider
# COPILOT_RAG_PROVIDER=openai

# [OPTIONAL] RAG model
# COPILOT_RAG_MODEL=gpt-4

# [OPTIONAL] RAG temperature
# COPILOT_RAG_TEMPERATURE=0.7

# [OPTIONAL] RAG max tokens
# COPILOT_RAG_MAX_TOKENS=4096

# [OPTIONAL] RAG max sources
# COPILOT_RAG_MAX_SOURCES=5

# [OPTIONAL] RAG similarity threshold
# COPILOT_RAG_SIMILARITY_THRESHOLD=0.7

# [OPTIONAL] Enable streaming
# COPILOT_STREAMING_ENABLED=true

# [OPTIONAL] Maximum conversation history
# COPILOT_MAX_CONVERSATION_HISTORY=10

# [OPTIONAL] Title generation model
# COPILOT_TITLE_GENERATION_MODEL=gpt-3.5-turbo

# [OPTIONAL] Character cap for tool results
# COPILOT_TOOL_RESULT_CHAR_CAP=20000

# [OPTIONAL] Enable copilot training (client-side)
# NEXT_PUBLIC_COPILOT_TRAINING_ENABLED=false

# =============================================================================
# DATABASE & STORAGE - Redis
# =============================================================================

# [OPTIONAL] Redis connection string
# REDIS_URL=redis://localhost:6379

# =============================================================================
# PAYMENT & BILLING
# =============================================================================

# [OPTIONAL] Stripe secret key
# STRIPE_SECRET_KEY=sk_test_...

# [OPTIONAL] Stripe webhook secret
# STRIPE_WEBHOOK_SECRET=whsec_...

# [OPTIONAL] Stripe price IDs
# STRIPE_FREE_PRICE_ID=price_...
# STRIPE_PRO_PRICE_ID=price_...
# STRIPE_TEAM_PRICE_ID=price_...
# STRIPE_ENTERPRISE_PRICE_ID=price_...

# [OPTIONAL] Enable billing
# BILLING_ENABLED=false
# NEXT_PUBLIC_BILLING_ENABLED=false

# [OPTIONAL] Cost & Storage Limits
# FREE_TIER_COST_LIMIT=10
# FREE_STORAGE_LIMIT_GB=5
# PRO_TIER_COST_LIMIT=100
# PRO_STORAGE_LIMIT_GB=50
# TEAM_TIER_COST_LIMIT=500
# TEAM_STORAGE_LIMIT_GB=500
# ENTERPRISE_TIER_COST_LIMIT=1000
# ENTERPRISE_STORAGE_LIMIT_GB=500
# OVERAGE_THRESHOLD_DOLLARS=50

# =============================================================================
# EMAIL & COMMUNICATION
# =============================================================================

# [OPTIONAL] Email verification
# EMAIL_VERIFICATION_ENABLED=false

# [OPTIONAL] Resend API key
# RESEND_API_KEY=re_...

# [OPTIONAL] Email settings
# FROM_EMAIL_ADDRESS=noreply@yourdomain.com
# EMAIL_DOMAIN=yourdomain.com

# [OPTIONAL] Azure Communication Services
# AZURE_ACS_CONNECTION_STRING=endpoint=https://...

# =============================================================================
# SMS & MESSAGING - Twilio
# =============================================================================

# [OPTIONAL] Twilio configuration
# TWILIO_ACCOUNT_SID=AC...
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# AI/LLM PROVIDER API KEYS
# =============================================================================

# [OPTIONAL] OpenAI API keys
# OPENAI_API_KEY=sk-...
# OPENAI_API_KEY_1=sk-...
# OPENAI_API_KEY_2=sk-...
# OPENAI_API_KEY_3=sk-...

# [OPTIONAL] Other LLM providers
# MISTRAL_API_KEY=...
# ANTHROPIC_API_KEY_1=sk-ant-...
# ANTHROPIC_API_KEY_2=sk-ant-...
# ANTHROPIC_API_KEY_3=sk-ant-...
# OLLAMA_URL=http://localhost:11434
# ELEVENLABS_API_KEY=...
# SERPER_API_KEY=...
# EXA_API_KEY=...
# DEEPSEEK_MODELS_ENABLED=false

# =============================================================================
# AZURE CONFIGURATION
# =============================================================================

# [OPTIONAL] Azure OpenAI
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_API_VERSION=2023-05-15
# AZURE_OPENAI_API_KEY=...
# KB_OPENAI_MODEL_NAME=gpt-4
# WAND_OPENAI_MODEL_NAME=gpt-4

# [OPTIONAL] Azure OCR
# OCR_AZURE_ENDPOINT=https://your-resource.mistral.azure.com/
# OCR_AZURE_MODEL_NAME=mistral-ocr
# OCR_AZURE_API_KEY=...

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# [OPTIONAL] Telemetry and logging
# TELEMETRY_ENDPOINT=https://telemetry.yourdomain.com
# COST_MULTIPLIER=1.0
# LOG_LEVEL=INFO

# [OPTIONAL] PostHog analytics
# NEXT_PUBLIC_POSTHOG_ENABLED=false
# NEXT_PUBLIC_POSTHOG_KEY=phc_...

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# [OPTIONAL] Browserbase for browser automation
# BROWSERBASE_API_KEY=...
# BROWSERBASE_PROJECT_ID=...

# [OPTIONAL] GitHub token
# GITHUB_TOKEN=ghp_...

# =============================================================================
# INFRASTRUCTURE & DEPLOYMENT
# =============================================================================

# [OPTIONAL] Runtime configuration
# NEXT_RUNTIME=nodejs
# DOCKER_BUILD=false
# NEXT_TELEMETRY_DISABLED=1
# NODE_ENV=development

# =============================================================================
# BACKGROUND JOBS & SCHEDULING - Trigger.dev
# =============================================================================

# [OPTIONAL] Trigger.dev configuration
# TRIGGER_PROJECT_ID=proj_...
# TRIGGER_SECRET_KEY=tr_...
# TRIGGER_DEV_ENABLED=false
# NEXT_PUBLIC_TRIGGER_DEV_ENABLED=false

# [OPTIONAL] Cron configuration
# CRON_SECRET=your-cron-secret
# JOB_RETENTION_DAYS=1

# =============================================================================
# CLOUD STORAGE - AWS S3
# =============================================================================

# [OPTIONAL] AWS credentials
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=AKIA...
# AWS_SECRET_ACCESS_KEY=...

# [OPTIONAL] S3 bucket names
# S3_BUCKET_NAME=sim-files
# S3_LOGS_BUCKET_NAME=sim-logs
# S3_KB_BUCKET_NAME=sim-kb
# S3_EXECUTION_FILES_BUCKET_NAME=sim-execution-files
# S3_CHAT_BUCKET_NAME=sim-chat
# S3_COPILOT_BUCKET_NAME=sim-copilot
# S3_PROFILE_PICTURES_BUCKET_NAME=sim-profile-pictures

# =============================================================================
# CLOUD STORAGE - Azure Blob
# =============================================================================

# [OPTIONAL] Azure storage credentials
# AZURE_ACCOUNT_NAME=yourstorageaccount
# AZURE_ACCOUNT_KEY=...
# AZURE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=...

# [OPTIONAL] Azure container names
# AZURE_STORAGE_CONTAINER_NAME=sim-files
# AZURE_STORAGE_KB_CONTAINER_NAME=sim-kb
# AZURE_STORAGE_EXECUTION_FILES_CONTAINER_NAME=sim-execution-files
# AZURE_STORAGE_CHAT_CONTAINER_NAME=sim-chat
# AZURE_STORAGE_COPILOT_CONTAINER_NAME=sim-copilot
# AZURE_STORAGE_PROFILE_PICTURES_CONTAINER_NAME=sim-profile-pictures

# =============================================================================
# DATA RETENTION & RATE LIMITING
# =============================================================================

# [OPTIONAL] Log retention
# FREE_PLAN_LOG_RETENTION_DAYS=7

# [OPTIONAL] Rate limiting
# RATE_LIMIT_WINDOW_MS=60000
# MANUAL_EXECUTION_LIMIT=999999
# RATE_LIMIT_FREE_SYNC=10
# RATE_LIMIT_FREE_ASYNC=50
# RATE_LIMIT_PRO_SYNC=25
# RATE_LIMIT_PRO_ASYNC=200
# RATE_LIMIT_TEAM_SYNC=75
# RATE_LIMIT_TEAM_ASYNC=500
# RATE_LIMIT_ENTERPRISE_SYNC=150
# RATE_LIMIT_ENTERPRISE_ASYNC=1000

# =============================================================================
# KNOWLEDGE BASE PROCESSING
# =============================================================================

# [OPTIONAL] KB processing configuration
# KB_CONFIG_MAX_DURATION=600
# KB_CONFIG_MAX_ATTEMPTS=3
# KB_CONFIG_RETRY_FACTOR=2
# KB_CONFIG_MIN_TIMEOUT=1000
# KB_CONFIG_MAX_TIMEOUT=10000
# KB_CONFIG_CONCURRENCY_LIMIT=20
# KB_CONFIG_BATCH_SIZE=20
# KB_CONFIG_DELAY_BETWEEN_BATCHES=100
# KB_CONFIG_DELAY_BETWEEN_DOCUMENTS=50

# =============================================================================
# REAL-TIME COMMUNICATION - WebSocket
# =============================================================================

# [OPTIONAL] WebSocket configuration
# SOCKET_SERVER_URL=ws://localhost:3001
# NEXT_PUBLIC_SOCKET_URL=ws://localhost:3001
# SOCKET_PORT=3001
# PORT=3000
# ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# OAUTH INTEGRATION CREDENTIALS
# =============================================================================

# [OPTIONAL] Google Services
# GOOGLE_CLIENT_ID=...apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=GOCSPX-...
# NEXT_PUBLIC_GOOGLE_CLIENT_ID=...apps.googleusercontent.com
# NEXT_PUBLIC_GOOGLE_API_KEY=...
# NEXT_PUBLIC_GOOGLE_PROJECT_NUMBER=...

# [OPTIONAL] GitHub
# GITHUB_CLIENT_ID=...
# GITHUB_CLIENT_SECRET=...
# GITHUB_REPO_CLIENT_ID=...
# GITHUB_REPO_CLIENT_SECRET=...

# [OPTIONAL] X (Twitter)
# X_CLIENT_ID=...
# X_CLIENT_SECRET=...

# [OPTIONAL] Atlassian
# CONFLUENCE_CLIENT_ID=...
# CONFLUENCE_CLIENT_SECRET=...
# JIRA_CLIENT_ID=...
# JIRA_CLIENT_SECRET=...

# [OPTIONAL] Other OAuth integrations
# AIRTABLE_CLIENT_ID=...
# AIRTABLE_CLIENT_SECRET=...
# SUPABASE_CLIENT_ID=...
# SUPABASE_CLIENT_SECRET=...
# NOTION_CLIENT_ID=...
# NOTION_CLIENT_SECRET=...
# DISCORD_CLIENT_ID=...
# DISCORD_CLIENT_SECRET=...
# MICROSOFT_CLIENT_ID=...
# MICROSOFT_CLIENT_SECRET=...
# HUBSPOT_CLIENT_ID=...
# HUBSPOT_CLIENT_SECRET=...
# WEALTHBOX_CLIENT_ID=...
# WEALTHBOX_CLIENT_SECRET=...
# LINEAR_CLIENT_ID=...
# LINEAR_CLIENT_SECRET=...
# SLACK_CLIENT_ID=...
# SLACK_CLIENT_SECRET=...
# REDDIT_CLIENT_ID=...
# REDDIT_CLIENT_SECRET=...
# WEBFLOW_CLIENT_ID=...
# WEBFLOW_CLIENT_SECRET=...

# =============================================================================
# E2B REMOTE CODE EXECUTION
# =============================================================================

# [OPTIONAL] E2B configuration
# E2B_ENABLED=false
# NEXT_PUBLIC_E2B_ENABLED=false
# E2B_API_KEY=...

# =============================================================================
# SSO CONFIGURATION
# =============================================================================

# [OPTIONAL] SSO basic settings
# SSO_ENABLED=false
# NEXT_PUBLIC_SSO_ENABLED=false
# SSO_PROVIDER_TYPE=oidc
# SSO_PROVIDER_ID=my-sso-provider
# SSO_ISSUER=https://sso.yourdomain.com
# SSO_DOMAIN=yourdomain.com
# SSO_USER_EMAIL=user@yourdomain.com
# SSO_ORGANIZATION_ID=org_...

# [OPTIONAL] SSO mapping
# SSO_MAPPING_ID=sub
# SSO_MAPPING_EMAIL=email
# SSO_MAPPING_NAME=name
# SSO_MAPPING_IMAGE=picture

# [OPTIONAL] SSO OIDC
# SSO_OIDC_CLIENT_ID=...
# SSO_OIDC_CLIENT_SECRET=...
# SSO_OIDC_SCOPES=openid,profile,email
# SSO_OIDC_PKCE=true
# SSO_OIDC_AUTHORIZATION_ENDPOINT=https://sso.yourdomain.com/authorize
# SSO_OIDC_TOKEN_ENDPOINT=https://sso.yourdomain.com/token
# SSO_OIDC_USERINFO_ENDPOINT=https://sso.yourdomain.com/userinfo
# SSO_OIDC_JWKS_ENDPOINT=https://sso.yourdomain.com/.well-known/jwks.json
# SSO_OIDC_DISCOVERY_ENDPOINT=https://sso.yourdomain.com/.well-known/openid-configuration

# [OPTIONAL] SSO SAML
# SSO_SAML_ENTRY_POINT=https://sso.yourdomain.com/saml/sso
# SSO_SAML_CERT=MIIDXTCCAkWgAwIBAgIJAKZ...
# SSO_SAML_CALLBACK_URL=https://app.yourdomain.com/api/auth/saml/callback
# SSO_SAML_SP_METADATA=<xml>...</xml>
# SSO_SAML_IDP_METADATA=<xml>...</xml>
# SSO_SAML_AUDIENCE=https://app.yourdomain.com
# SSO_SAML_WANT_ASSERTIONS_SIGNED=false
# SSO_SAML_SIGNATURE_ALGORITHM=sha256
# SSO_SAML_DIGEST_ALGORITHM=sha256
# SSO_SAML_IDENTIFIER_FORMAT=urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress

# =============================================================================
# UI BRANDING & WHITELABELING
# =============================================================================

# [OPTIONAL] Custom branding
# NEXT_PUBLIC_BRAND_NAME=Sim
# NEXT_PUBLIC_BRAND_LOGO_URL=https://yourdomain.com/logo.png
# NEXT_PUBLIC_BRAND_FAVICON_URL=https://yourdomain.com/favicon.ico
# NEXT_PUBLIC_CUSTOM_CSS_URL=https://yourdomain.com/custom.css
# NEXT_PUBLIC_SUPPORT_EMAIL=support@yourdomain.com
# NEXT_PUBLIC_DOCUMENTATION_URL=https://docs.yourdomain.com
# NEXT_PUBLIC_TERMS_URL=https://yourdomain.com/terms
# NEXT_PUBLIC_PRIVACY_URL=https://yourdomain.com/privacy

# =============================================================================
# THEME CUSTOMIZATION
# =============================================================================

# [OPTIONAL] Brand colors (hex format)
# NEXT_PUBLIC_BRAND_PRIMARY_COLOR=#701ffc
# NEXT_PUBLIC_BRAND_PRIMARY_HOVER_COLOR=#5a19ca
# NEXT_PUBLIC_BRAND_ACCENT_COLOR=#ff6b6b
# NEXT_PUBLIC_BRAND_ACCENT_HOVER_COLOR=#ee5a52
# NEXT_PUBLIC_BRAND_BACKGROUND_COLOR=#ffffff

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# [OPTIONAL] Feature toggles
# NEXT_PUBLIC_EMAIL_PASSWORD_SIGNUP_ENABLED=true
