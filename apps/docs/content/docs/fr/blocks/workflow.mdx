---
title: Bloc de flux de travail
description: Exécuter un autre flux de travail à l'intérieur du flux actuel
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Image } from '@/components/ui/image'

## Ce qu'il fait

<div className='flex justify-center my-6'>
  <Image
    src='/static/blocks/workflow.png'
    alt='Configuration du bloc de flux de travail'
    width={400}
    height={280}
    className='rounded-xl border border-border shadow-sm'
  />
</div>

Déposez un bloc de flux de travail lorsque vous souhaitez appeler un flux de travail enfant dans le cadre d'un flux plus large. Le bloc exécute la dernière version déployée de ce flux de travail, attend qu'il se termine, puis continue avec le parent.

## Comment le configurer

1. **Choisissez un flux de travail** dans le menu déroulant (les auto-références sont bloquées pour éviter les boucles).
2. **Mappez les entrées** : si le flux de travail enfant a un déclencheur de formulaire d'entrée, vous verrez chaque champ et pourrez connecter les variables parentes. Les valeurs mappées sont ce que l'enfant reçoit.
3. **Sorties** : une fois que l'enfant a terminé, le bloc expose :
   - `result` – la réponse finale du flux de travail enfant
   - `success` – s'il s'est exécuté sans erreurs
   - `error` – message lorsque l'exécution échoue

## Notes d'exécution

- Les flux de travail enfants s'exécutent dans le même contexte d'espace de travail, donc les variables d'environnement et les outils sont conservés.
- Le bloc utilise le versionnement des déploiements : toute exécution API, planifiée, webhook, manuelle ou par chat appelle l'instantané déployé. Redéployez l'enfant lorsque vous le modifiez.
- Si l'enfant échoue, le bloc génère une erreur, sauf si vous la gérez en aval.

<Callout>
Gardez les flux de travail enfants ciblés. Des flux petits et réutilisables facilitent leur combinaison sans créer d'imbrication profonde.
</Callout>
