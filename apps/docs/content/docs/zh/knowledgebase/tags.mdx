---
title: 标签与筛选
---

import { Video } from '@/components/ui/video'

标签提供了一种强大的方式来组织文档，并为向量搜索创建精确的筛选。通过将基于标签的筛选与语义搜索相结合，您可以从知识库中检索到所需的确切内容。

## 向文档添加标签

您可以为知识库中的任何文档添加自定义标签，以便更轻松地组织和分类内容，从而更方便地检索。

<div className="mx-auto w-full overflow-hidden rounded-lg">
  <Video src="knowledgebase-tag.mp4" width={700} height={450} />
</div>

### 标签管理
- **自定义标签**：创建适合您工作流程的标签系统
- **每个文档多个标签**：每个文档可以应用多个标签，知识库中共有 7 个标签槽位，所有文档共享
- **标签组织**：通过一致的标签将相关文档分组

### 标签最佳实践
- **一致的命名**：在文档中使用标准化的标签名称
- **描述性标签**：使用清晰、有意义的标签名称
- **定期清理**：定期移除未使用或过时的标签

## 在知识块中使用标签

当标签与工作流程中的知识块结合时，其功能会变得更加强大。您可以将搜索限定在特定的标签内容中，确保您的 AI 代理获取最相关的信息。

<div className="mx-auto w-full overflow-hidden rounded-lg">
  <Video src="knowledgebase-tag2.mp4" width={700} height={450} />
</div>

## 搜索模式

知识块支持三种不同的搜索模式，具体取决于您提供的内容：

### 1. 仅标签搜索
当您**仅提供标签**（没有搜索查询）时：
- **直接检索**：获取所有具有指定标签的文档
- **无向量搜索**：结果仅基于标签匹配
- **快速性能**：无需语义处理即可快速检索
- **精确匹配**：仅返回具有所有指定标签的文档

**使用场景**：当您需要特定类别或项目的所有文档时

### 2. 仅向量搜索
当您**仅提供搜索查询**（无标签）时：
- **语义搜索**：根据含义和上下文查找内容
- **完整知识库**：搜索所有文档
- **相关性排序**：结果按语义相似性排序
- **自然语言**：使用问题或短语查找相关内容

**使用场景**：当您需要最相关的内容而不考虑组织结构时

### 3. 标签过滤 + 向量搜索结合
当您**同时提供标签和搜索查询**时：
1. **首先**：过滤文档，仅保留具有指定标签的文档
2. **然后**：在过滤后的子集中执行向量搜索
3. **结果**：仅从带标签的文档中获取语义相关的内容

**使用场景**：当您需要特定类别或项目中的相关内容时

### 搜索配置

#### 标签过滤
- **多个标签**：使用多个标签实现 OR 逻辑（文档必须包含一个或多个标签）
- **标签组合**：混合不同类型的标签以实现精确过滤
- **大小写敏感性**：标签匹配不区分大小写
- **部分匹配**：需要精确匹配标签名称

#### 向量搜索参数
- **查询复杂性**：自然语言问题效果最佳
- **结果限制**：配置要检索的内容块数量
- **相关性阈值**：设置最低相似度分数
- **上下文窗口**：根据您的使用场景调整内容块大小

## 与工作流的集成

### 知识块配置
1. **选择知识库**：选择要搜索的知识库
2. **添加标签**：指定过滤标签（可选）
3. **输入查询**：添加您的搜索查询（可选）
4. **配置结果**：设置要检索的内容块数量
5. **测试搜索**：在工作流中使用前预览结果

### 动态标签使用
- **变量标签**：使用工作流变量作为标签值
- **条件过滤**：根据工作流逻辑应用不同的标签
- **上下文感知搜索**：根据对话上下文调整标签
- **多步骤过滤**：通过工作流步骤优化搜索

### 性能优化
- **高效过滤**：标签过滤在向量搜索之前进行，以提高性能
- **缓存**：常用的标签组合会被缓存以提高速度
- **并行处理**：可以同时运行多个标签搜索
- **资源管理**：自动优化搜索资源

## 标签入门

1. **规划标签结构**：制定一致的命名规范
2. **开始添加标签**：为现有文档添加相关标签
3. **测试组合**：尝试标签与搜索查询的组合
4. **集成到工作流中**：将知识模块与标签策略结合使用
5. **持续优化**：根据搜索结果调整标签方法

标签将您的知识库从一个简单的文档存储转变为一个精确组织、可搜索的智能系统，使您的 AI 工作流能够以极高的精确度进行导航。