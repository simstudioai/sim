---
title: 日志记录
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
import { Image } from '@/components/ui/image'

Sim 提供了全面的日志记录功能，涵盖所有工作流的执行情况，让您能够完全掌握工作流的运行方式、数据流动情况以及可能出现问题的地方。

## 日志系统

Sim 提供了两种互补的日志界面，以适应不同的工作流和使用场景：

### 实时控制台

在手动或聊天工作流执行期间，日志会实时显示在工作流编辑器右侧的控制台面板中：

<div className="flex justify-center">
  <Image
    src="/static/logs/console.png"
    alt="实时控制台面板"
    width={400}
    height={300}
    className="my-6"
  />
</div>

控制台显示：
- 块执行进度，突出显示活动块
- 块完成时的实时输出
- 每个块的执行时间
- 成功/错误状态指示器

### 日志页面

所有工作流的执行记录——无论是手动触发、通过 API、聊天、计划任务还是 Webhook——都会记录在专用的日志页面中：

<div className="flex justify-center">
  <Image
    src="/static/logs/logs.png"
    alt="日志页面"
    width={600}
    height={400}
    className="my-6"
  />
</div>

日志页面提供：
- 按时间范围、状态、触发类型、文件夹和工作流的全面过滤功能
- 全日志搜索功能
- 实时模式以获取实时更新
- 7 天日志保留（可升级以延长保留时间）

## 日志详情侧边栏

点击任意日志条目会打开一个详细的侧边栏视图：

<div className="flex justify-center">
  <Image
    src="/static/logs/logs-sidebar.png"
    alt="日志侧边栏详情"
    width={600}
    height={400}
    className="my-6"
  />
</div>

### 块输入/输出

查看每个块的完整数据流，并通过标签切换查看：

<Tabs items={['输出', '输入']}>
  <Tab>
    **输出标签** 显示块的执行结果：
    - 以 JSON 格式显示的结构化数据
    - AI 生成内容的 Markdown 渲染
    - 便于数据提取的复制按钮
  </Tab>
  
  <Tab>
    **输入标签** 显示传递给块的内容：
    - 已解析的变量值
    - 其他块的引用输出
    - 使用的环境变量
    - 出于安全考虑，API 密钥会自动隐藏
  </Tab>
</Tabs>

### 执行时间线

对于工作流级别的日志，可查看详细的执行指标：
- 开始和结束时间戳
- 工作流总持续时间
- 各个模块的执行时间
- 性能瓶颈识别

## 工作流快照

对于任何已记录的执行，点击“查看快照”以查看执行时的确切工作流状态：

<div className="flex justify-center">
  <Image
    src="/static/logs/logs-frozen-canvas.png"
    alt="工作流快照"
    width={600}
    height={400}
    className="my-6"
  />
</div>

快照提供以下内容：
- 显示工作流结构的冻结画布
- 执行期间的模块状态和连接
- 点击任意模块查看其输入和输出
- 对于调试已修改的工作流非常有用

<Callout type="info">
  工作流快照仅适用于增强日志系统引入后的执行记录。较早迁移的日志会显示“未找到记录状态”消息。
</Callout>

## 日志保留

- **免费计划**：日志保留 7 天
- **专业计划**：日志保留 30 天
- **团队计划**：日志保留 90 天
- **企业计划**：可定制保留期限

## 最佳实践

### 开发阶段
- 使用实时控制台在测试期间获得即时反馈
- 检查模块输入和输出以验证数据流
- 使用工作流快照比较正常版本和出错版本

### 生产阶段
- 定期监控日志页面以发现错误或性能问题
- 设置过滤器以专注于特定工作流或时间段
- 在关键部署期间使用实时模式实时监控执行

### 调试阶段
- 始终检查执行时间线以识别运行缓慢的模块
- 比较正常和失败执行之间的输入
- 使用工作流快照查看问题发生时的确切状态

## 下一步

- 了解 [成本计算](/execution/costs) 以理解工作流定价
- 探索 [外部 API](/execution/api) 以进行编程日志访问
- 设置 [Webhook 通知](/execution/api#webhook-subscriptions) 以获取实时警报