---
title: Router
description: Route workflow execution based on specific conditions or logic
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Step, Steps } from 'fumadocs-ui/components/steps'
import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
import { ThemeImage } from '@/components/ui/theme-image'

The Router block uses AI to intelligently decide which path your workflow should take next. Unlike Condition blocks that use simple rules, Router blocks can understand context and make smart routing decisions based on content analysis.

<ThemeImage
  lightSrc="/static/light/router-light.png"
  darkSrc="/static/dark/router-dark.png"
  alt="Router Block with Multiple Paths"
  width={350}
  height={175}
/>

## When to Use Router vs Condition

**Use Router when**:
- You need AI to understand intent (e.g., "route support tickets to the right department")
- Content is unstructured or varies widely
- You want intelligent, context-aware decision making

**Use Condition when**:
- You have simple, rule-based decisions (e.g., "if score > 80, go to path A")
- Working with structured data or numbers
- You need fast, deterministic routing

## How It Works

The Router block:

1. Analyzes the input content using an LLM
2. Evaluates the content against the available target blocks in your workflow
3. Identifies the most appropriate destination based on the content's intent or requirements
4. Routes the workflow execution to the selected block

## Configuration Options

### Content/Prompt

The content or prompt that the Router will analyze to make routing decisions. This can be:

- A direct user query or input
- Output from a previous block
- A system-generated message

### Target Blocks

The possible destination blocks that the Router can select from. The Router will automatically detect connected blocks, but you can also:

- Customize the descriptions of target blocks to improve routing accuracy
- Specify routing criteria for each target block
- Exclude certain blocks from being considered as routing targets

### Model Selection

Choose an AI model to power the routing decision:

**OpenAI**: GPT-4o, o1, o3, o4-mini, gpt-4.1
**Anthropic**: Claude 3.7 Sonnet
**Google**: Gemini 2.5 Pro, Gemini 2.0 Flash
**Other Providers**: Groq, Cerebras, xAI, DeepSeek
**Local Models**: Any model running on Ollama

<div className="w-full max-w-2xl mx-auto overflow-hidden rounded-lg">
  <video autoPlay loop muted playsInline className="w-full -mb-2 rounded-lg" src="/models.mp4"></video>
</div>

**Recommendation**: Use models with strong reasoning capabilities like GPT-4o or Claude 3.7 Sonnet for more accurate routing decisions.

### API Key

Your API key for the selected LLM provider. This is securely stored and used for authentication.

## Inputs and Outputs

### Inputs

- **Content/Prompt**: The text to analyze for routing decisions
- **Target Blocks**: Connected blocks that are potential routing destinations
- **Model Settings**: LLM provider and parameters

### Outputs

- **Content**: A summary of the routing decision
- **Model**: The model used for decision-making
- **Tokens**: Usage statistics
- **Selected Path**: Details of the chosen routing destination, including:
  - Block ID
  - Block Type
  - Block Title

## Example Usage

Here's an example of how a Router block might be used in a customer support workflow:

```yaml
# Example Router Configuration
prompt: |
  Analyze the user query and route to the most appropriate department.
  Choose ONE destination based on the query content and intent.

model: OpenAI/gpt-4o
```

In this example, the Router might be connected to:

- A product support block
- A billing inquiries block
- A technical support block
- A general inquiries block

Based on the user's query, the Router would analyze the content and direct it to the most appropriate specialized support block.

## Best Practices

- **Provide clear descriptions for target blocks**: Help the Router understand when to select each destination
- **Use specific routing criteria**: Define clear conditions for selecting each path
- **Consider fallback paths**: Connect a default destination for when no specific path is appropriate
- **Test with diverse inputs**: Ensure the Router handles various input types correctly
- **Review routing decisions**: Monitor the Router's performance and refine as needed
